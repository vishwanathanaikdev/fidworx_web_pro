import{u as v,r as s,j as e}from"./index-85IIvyDu.js";import{a as i,p as j}from"./AuthModal-Brs5OU3Q.js";import{W as y}from"./WishlistSidebar-CNTDz3PB.js";import{M as w,a as M,b as S}from"./MobileBottomNav-BZ1k7cWk.js";import{s as A}from"./managedOfficeService-3_7XrMh2.js";import"./index-Bs4fhYIl.js";function U(){v().pathname,i.get("visitorId");const[u,r]=s.useState(!1),[h,n]=s.useState(!1),[l,f]=s.useState(i.get("visitorId")),[x,m]=s.useState(""),[g,d]=s.useState(null),[p,c]=s.useState(null);s.useEffect(()=>{(async()=>{try{const o=(await A(1,1))?.data?.[0];o?(d(o.assigned_agent||null),c(o._id||null),console.log("Fetched office & agent for AboutUs:",o)):(d(null),c(null),console.warn("No managed offices found."))}catch(t){console.error("Error fetching office data:",t),d(null),c(null)}})()},[]),s.useEffect(()=>{const a=setInterval(()=>{const t=i.get("visitorId");t!==l&&f(t)},2e3);return()=>clearInterval(a)},[l]);const b=async a=>{const t=i.get("visitorId");if(!t)return!1;try{return await j({propertyId:p,visitorId:t,assignedAgentId:g,message:a??x}),m(""),!0}catch(o){return console.error("Error submitting lead:",o),!1}},I=()=>{i.get("visitorId")?n(!0):r(!0)};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsxs("div",{className:"sticky top-0 z-50 bg-[#16607B] px-4 py-3 text-white flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"FidCo"}),e.jsxs("div",{className:"w-full h-[75px] bg-[#09658a]/90 backdrop-blur-sm flex items-center justify-between px-4 fixed top-0 left-0 z-50",children:[e.jsx("h1",{className:"text-3xl font-bold text-white glow-text drop-shadow-lg",children:"FidWorx"}),e.jsx("div",{children:e.jsx(y,{visitorId:l,onLoginRequired:()=>r(!0),onLogout:()=>{f(null)}})})]})]}),e.jsxs("main",{className:"px-4 py-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-[#16607B]",children:"About Us"}),e.jsx("p",{className:"mt-3 text-base text-gray-700",children:"Mobile-optimized layout. Replace with your mobile Figma layout (stacked sections, larger tap targets, etc.)."}),e.jsx("button",{onClick:I,className:"px-8 py-3 text-lg font-semibold text-white transition-all duration-300 bg-orange-500 rounded-full shadow-md hover:bg-orange-600 hover:shadow-lg",children:"Get Started"}),e.jsx(w,{})]}),u&&e.jsx(M,{isOpen:u,onClose:()=>r(!1),onSuccess:()=>{r(!1),n(!0)}}),e.jsx(S,{isOpen:h,onClose:()=>n(!1),onSubmit:b,leadMessage:x,setLeadMessage:m})]})}export{U as default};
