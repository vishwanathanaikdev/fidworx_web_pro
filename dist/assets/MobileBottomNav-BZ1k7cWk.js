import{r as n,j as e,u as I,L as A}from"./index-85IIvyDu.js";import{s as F,v as V,a as b}from"./AuthModal-Brs5OU3Q.js";import{C as D}from"./managedOfficeService-3_7XrMh2.js";import{m as L,n as $,o as q}from"./index-Bs4fhYIl.js";const H=({isOpen:p,onClose:o,onSuccess:d})=>{const[s,i]=n.useState("email"),[u,h]=n.useState(""),[x,g]=n.useState(!1),[m,l]=n.useState(""),[a,f]=n.useState(""),[j,E]=n.useState(""),[c,v]=n.useState({mobile:"",city:""}),[y,N]=n.useState(0),[w,k]=n.useState(!1);if(n.useEffect(()=>{let t;return y>0?t=setInterval(()=>N(r=>r-1),1e3):k(!1),()=>clearInterval(t)},[y]),!p)return null;const S=async()=>{l("");try{const t=await F(a);g(t.isNewVisitor),i("otp"),h(""),N(59),k(!0)}catch(t){l(t.message||"Failed to send OTP")}},T=async()=>{if(l(""),!u)return l("OTP is required");try{let t={email:a,otp:u};if(x){if(!j||!c.mobile||!c.city)return l("All fields are required for new visitors");t={...t,fullName:j,mobile:c.mobile,city:c.city}}const r=await V(t);b.set("visitorId",r.data._id,{expires:7}),d?.(r.data),o()}catch(t){l(t.response?.data?.message||"Invalid OTP")}};return e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm p-5 shadow-lg relative",children:[e.jsx("button",{onClick:o,className:"absolute top-2 right-2 text-gray-400 hover:text-black text-xl font-bold",children:"×"}),s==="email"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2 text-center",children:"Login to Continue"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4 text-center",children:"Get the best offers on top workspace"}),e.jsx("input",{type:"email",placeholder:"Enter your email",value:a,onChange:t=>f(t.target.value),className:"w-full h-12 border text-black border-gray-300 rounded-lg px-4 text-sm placeholder-gray-400 mb-4 focus:outline-none focus:ring-2 focus:ring-orange-400"}),m&&e.jsx("p",{className:"text-red-500 text-xs mb-3 text-center",children:m}),e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx("button",{onClick:o,className:"flex-1 h-12 bg-gray-200 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-300 transition",children:"Cancel"}),e.jsx("button",{onClick:S,className:"flex-1 h-12 bg-orange-500 text-white text-sm font-semibold rounded-lg hover:bg-orange-600 transition",children:"Send OTP"})]})]}),s==="otp"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2 text-center",children:x?"Sign Up":"Enter OTP"}),e.jsxs("p",{className:"text-sm text-orange-500 mb-4 text-center",children:["OTP sent to ",e.jsx("span",{className:"font-medium",children:a})," ",e.jsx("span",{className:"ml-2 text-blue-600 cursor-pointer underline",onClick:()=>i("email"),children:"Edit"})]}),x&&e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("input",{type:"text",placeholder:"Full Name",value:j,onChange:t=>E(t.target.value),className:"w-full h-10 border text-black border-gray-300 rounded-lg px-3 text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-400"}),e.jsx("input",{type:"text",placeholder:"Mobile Number",value:c.mobile,onChange:t=>v({...c,mobile:t.target.value}),className:"w-full h-10 border text-black border-gray-300 rounded-lg px-3 text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-400"}),e.jsx("input",{type:"text",placeholder:"City",value:c.city,onChange:t=>v({...c,city:t.target.value}),className:"w-full h-10 border text-black border-gray-300 rounded-lg px-3 text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),e.jsx("div",{className:"flex justify-center gap-2 mb-3",children:[...Array(6)].map((t,r)=>e.jsx("input",{type:"text",maxLength:1,value:u[r]||"",onChange:P=>{const C=P.target.value.replace(/[^0-9]/g,"");let O=u.split("");O[r]=C,h(O.join("")),C&&r<5&&document.getElementById(`otp-${r}`)?.nextSibling?.focus()},id:`otp-${r}`,className:"w-8 h-10 text-center  text-black text-base border border-orange-400 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"},r))}),y>0&&e.jsxs("p",{className:"text-xs text-gray-500 text-center mb-2",children:["OTP expires in ",y,"s"]}),m&&e.jsx("p",{className:"text-red-500 text-center text-xs mb-2",children:m}),e.jsxs("p",{className:"text-xs text-gray-500 text-center mb-3",children:["Didn't receive OTP?"," ",e.jsx("span",{className:`cursor-pointer underline ${w?"text-gray-400 cursor-not-allowed":"text-blue-600"}`,onClick:()=>!w&&S(),children:"Resend"})]}),e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx("button",{onClick:o,className:"flex-1 h-11 bg-gray-200 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-300 transition",children:"Cancel"}),e.jsx("button",{onClick:T,className:"flex-1 h-11 bg-orange-500 text-white text-sm font-semibold rounded-lg hover:bg-orange-600 transition",children:"Verify OTP"})]})]})]})})},M=({isOpen:p,onClose:o,onSubmit:d,leadMessage:s,setLeadMessage:i})=>{const[u,h]=n.useState(!1);if(!p)return null;const x=b.get("visitorId"),g=`leadSent_${x}`,m=async a=>{a.preventDefault(),await d(s)&&(x&&b.set(g,"InfoSent",{expires:7}),h(!0),i(""),setTimeout(()=>{h(!1),o()},2500))},l=async()=>{if(!b.get(g)){const f=s?.trim()?s:"Looking for Space";await d(f),i(""),x&&b.set(g,"InfoSent",{expires:7})}o()};return e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4",onClick:l,children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm p-5 shadow-lg relative",onClick:a=>a.stopPropagation(),children:[e.jsx("button",{onClick:l,className:"absolute top-2 right-2 text-gray-400 hover:text-black text-lg font-bold",children:"×"}),u?e.jsxs("div",{className:"text-center",children:[e.jsx(D,{className:"w-12 h-12 text-green-500 mx-auto mb-3"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Thank you for Reaching Out"}),e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mb-4",children:"Our team will get back to you within 24 hours with your personalized quote."}),e.jsx("button",{onClick:o,className:"mt-2 w-full h-10 bg-orange-500 text-white text-sm font-semibold rounded-lg hover:bg-orange-600 transition",children:"Close"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2 text-center",children:"Send Your Enquiry"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4 text-center",children:"Let us know your interest. Our team will reach out soon."}),e.jsxs("form",{onSubmit:m,children:[e.jsx("textarea",{placeholder:"Enter your message (optional)",value:s,onChange:a=>i(a.target.value),className:"w-full h-20 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 text-black focus:ring-orange-400  resize-none mb-3"}),e.jsxs("p",{className:"text-xs text-gray-500 mb-3 leading-[16px]",children:["After you submit, your details may be shared with workspace providers who may contact you. Read our"," ",e.jsx("span",{className:"text-blue-600 cursor-pointer hover:underline",children:"Privacy Policy"})," for more info."]}),e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx("button",{type:"button",onClick:l,className:"flex-1 h-10 bg-gray-200 text-gray-700 text-sm rounded-lg hover:bg-gray-300 transition",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 h-10 bg-orange-500 text-white text-sm rounded-lg hover:bg-orange-600 transition",children:"Submit"})]})]})]})]})})},G=()=>{const o=I().pathname,d=[{path:"/",label:"Home",icon:e.jsx(L,{})},{path:"/menu",label:"Explore",icon:e.jsx($,{})},{path:"/about",label:"About",icon:e.jsx(q,{})}];return e.jsx("nav",{className:"fixed bottom-0 inset-x-0 bg-[#16607B] text-white shadow-lg border-t border-gray-700 z-50",children:e.jsx("div",{className:"flex justify-around items-center py-1.5",children:d.map(s=>{const i=o===s.path;return e.jsxs(A,{to:s.path,className:`flex flex-col items-center text-[10px] transition-all duration-300 ${i?"text-white":"text-white/70 hover:text-white"}`,children:[e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full mb-[2px] transition-all duration-300 ${i?"bg-white/25 shadow-md":""}`,children:e.jsx("span",{className:"text-base",children:s.icon})}),e.jsx("span",{className:"font-medium leading-tight",children:s.label})]},s.path)})})})};export{G as M,H as a,M as b};
